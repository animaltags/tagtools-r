<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tagtools">
<title>More complementary filtering: magnetometer &amp; dynamic acceleration • tagtools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="More complementary filtering: magnetometer &amp; dynamic acceleration">
<meta property="og:description" content="tagtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tagtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Detectors.html">Detectors</a>
    <a class="dropdown-item" href="../articles/TagTools.html">Tagtools vignettes: overview and introduction</a>
    <a class="dropdown-item" href="../articles/acceleration-filtering.html">Complementary filtering for acceleration: low- &amp; high-frequency</a>
    <a class="dropdown-item" href="../articles/data-quality-error-correction.html">Data quality &amp; error correction</a>
    <a class="dropdown-item" href="../articles/detectors-draft.html">detectors draft</a>
    <a class="dropdown-item" href="../articles/dive-stats.html">Using dive_stats</a>
    <a class="dropdown-item" href="../articles/find-dives.html">Using find_dives</a>
    <a class="dropdown-item" href="../articles/fine-scale-tracking.html">Fine-scale tracking</a>
    <a class="dropdown-item" href="../articles/install-load-tagtools.html">Installing and loading tagtools</a>
    <a class="dropdown-item" href="../articles/jerk-transients.html">Jerk: a way to emphasize rapid changes in acceleration</a>
    <a class="dropdown-item" href="../articles/load-tag-data.html">Load tag data</a>
    <a class="dropdown-item" href="../articles/magnetometer-filtering.html">More complementary filtering: magnetometer &amp; dynamic acceleration</a>
    <a class="dropdown-item" href="../articles/mahalanobis-distance.html">Mahalanobis distance</a>
    <a class="dropdown-item" href="../articles/plots-and-cropping.html">Plots and cropping</a>
    <a class="dropdown-item" href="../articles/rotation-test.html">Rotation test</a>
    <a class="dropdown-item" href="../articles/tag-to-whale-frame.html">Tag orientation: From tag frame to sperm whale frame</a>
    <a class="dropdown-item" href="../articles/vectors-vs-structures.html">Vectors and scalars versus structures</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>More complementary filtering: magnetometer &amp; dynamic acceleration</h1>
                        <h4 data-toc-skip class="author">tagtools
project team</h4>
            
            <h4 data-toc-skip class="date">2023-05-04</h4>
      
      
      <div class="d-none name"><code>magnetometer-filtering.Rmd</code></div>
    </div>

    
    
<p>Welcome to the <code>magnetometer-filtering</code> vignette! Thanks
for getting some time to know our package—we hope it’s, thus far, all
you’ve dreamed it would be.</p>
<p>This vignette will probably be more insightful if you complete it
after <code>complementary-filtering</code> and/or
<code>jerk-transients</code>, but you are welcome to try it regardless.
In this vignette, you will use a complementary filter to separate
magnetometer data into low and high frequencies. This is similar to what
we do in <code>complementary-filtering</code> with acceleration
data.</p>
<p><em>Estimated time for this vignette: 25 minutes.</em></p>
<p>These practicals all assume that you have R/Rstudio installed on your
machine, some basic experience working with them, and can execute
provided code, making some user-specific changes along the way (e.g. to
help R find a file you downloaded). We will provide you with quite a few
lines. To boost your own learning, you would do well to try and write
them before opening what we give, using this just to check your
work.</p>
<p>Additionally, be careful when copy-pasting special characters such as
_underscores_ and ‘quotes’. If you get an error, one thing to check is
that you have just a single, simple underscore, and
<code>'straight quotes'</code>, whether <code>'single'</code> or
<code>"double"</code> (rather than “smart quotes”).</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>If you’ve done <code>acceleration-filtering</code> <em>or</em>
<code>jerk-transients</code> <strong>within the same R session</strong>,
skip down to <a href="#spoilers">Spoilers</a>. If, within the same R
session, you’ve done <em>both</em>, skip to <a href="#complementary-filter-for-magnetometer">Complementary Filter for
Magnetometer</a>. If not, you’ll want to do this section to load the
necessary data, and take a look at it.</p>
<p>For these vignettes we will use data from a suction cup tag attached
to the back of a beaked whale. The data is in <code>testset1</code>.
This dataset is built into the <code>tagtools</code> package, so you can
access it using <code>system.file</code>.</p>
<p>Use <code><a href="../reference/load_nc.html">load_nc()</a></code> to read it in—write
<code>testset1.nc</code> to the object <code>bw</code>, for “beaked
whale”. Then use <code><a href="../reference/plott.html">plott()</a></code> to get a look at it.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tagtools</span><span class="op">)</span></span>
<span><span class="va">bw_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"testset1.nc"</span>, package <span class="op">=</span> <span class="st">'tagtools'</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">bw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_nc.html">load_nc</a></span><span class="op">(</span><span class="va">bw_file_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Depth <span class="op">=</span> <span class="va">bw</span><span class="op">$</span><span class="va">P</span>, Acc <span class="op">=</span> <span class="va">bw</span><span class="op">$</span><span class="va">A</span>, Mag <span class="op">=</span> <span class="va">bw</span><span class="op">$</span><span class="va">M</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#plott_bw">
Show/Hide Results
</button>
<div id="plott_bw" class="collapse">
<p><img src="magnetometer-filtering_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
</div>
<p>This dataset contains a deep dive followed by a shallow dive. We want
to infer the function of these by looking for locomotion effort and
sudden changes in acceleration that could be indicative of prey capture
attempts. We are also going to look for changes in swimming gait.</p>
</div>
<div class="section level2">
<h2 id="spoilers">Spoilers<a class="anchor" aria-label="anchor" href="#spoilers"></a>
</h2>
<p>If you’ve done both <code>acceleration-filtering</code> AND
<code>jerk-transients</code> in the same R session, skip down to <a href="#complementary-filter-for-magnetometer">Complementary Filter for
Magnetometer</a>. If not, you’ll want to do this section. We’ll do a
bunch of spoilers from these two vignettes so that we have the objects
we need. Paste all this code in, and it shouldn’t mess with what you
already had, whether you’ve done one or the other.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stuff from acceleration-filtering</span></span>
<span><span class="va">fc</span> <span class="op">=</span> <span class="fl">0.267032715030423</span> <span class="co"># filter cut-off frequency</span></span>
<span><span class="va">Af</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/comp_filt.html">comp_filt</a></span><span class="op">(</span><span class="va">bw</span><span class="op">$</span><span class="va">A</span>, fc <span class="op">=</span> <span class="va">fc</span><span class="op">)</span> <span class="co"># filtering acceleration data</span></span>
<span><span class="va">Alow</span> <span class="op">&lt;-</span> <span class="va">Af</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># low-frequency acceleration</span></span>
<span><span class="va">Ahigh</span> <span class="op">&lt;-</span> <span class="va">Af</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="co"># high-frequency acceleration</span></span>
<span><span class="va">sampling_rate</span> <span class="op">&lt;-</span> <span class="va">bw</span><span class="op">$</span><span class="va">A</span><span class="op">$</span><span class="va">sampling_rate</span> <span class="co"># sampling rate for this data</span></span>
<span><span class="va">intvl1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">36</span><span class="op">*</span><span class="fl">60</span>, <span class="fl">38</span><span class="op">*</span><span class="fl">60</span><span class="op">)</span> </span>
<span><span class="va">intvl2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">56</span><span class="op">*</span><span class="fl">60</span>, <span class="fl">58</span><span class="op">*</span><span class="fl">60</span><span class="op">)</span> <span class="co"># two interesting time intervals: 36-38 and 56-58 minutes</span></span>
<span><span class="va">Ah1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crop_to.html">crop_to</a></span><span class="op">(</span><span class="va">Ahigh</span>, sampling_rate <span class="op">=</span> <span class="va">sampling_rate</span>, tcues <span class="op">=</span> <span class="va">intvl1</span><span class="op">)</span> <span class="co"># high-frequency acceleration data in the first interval</span></span>
<span><span class="va">Ah2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crop_to.html">crop_to</a></span><span class="op">(</span><span class="va">Ahigh</span>, sampling_rate <span class="op">=</span> <span class="va">sampling_rate</span>, tcues <span class="op">=</span> <span class="va">intvl2</span><span class="op">)</span> <span class="co"># high-frequency acceleration data in the first interval</span></span>
<span></span>
<span><span class="co"># stuff from jerk-transients (might depend on stuff from complementary-filtering, just paste it all)</span></span>
<span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/njerk.html">njerk</a></span><span class="op">(</span><span class="va">bw</span><span class="op">$</span><span class="va">A</span><span class="op">)</span> <span class="co"># get jerk</span></span>
<span><span class="va">Ad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/decdc.html">decdc</a></span><span class="op">(</span><span class="va">bw</span><span class="op">$</span><span class="va">A</span>, <span class="fl">5</span><span class="op">)</span> <span class="co"># decimate accel data by a factor of 5</span></span>
<span><span class="va">Jd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/njerk.html">njerk</a></span><span class="op">(</span><span class="va">Ad</span><span class="op">)</span> <span class="co"># decimated jerk </span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="complementary-filter-for-magnetometer">Complementary Filter for Magnetometer<a class="anchor" aria-label="anchor" href="#complementary-filter-for-magnetometer"></a>
</h2>
<p>Let’s get started! Try applying the complementary filter to the
magnetometer data, <code>bw$M</code>, and then plot the high frequency
magnetometer data for the two intervals of swimming that you might have
looked at in the Locomotion style section of
<code>acceleration-filtering</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Mf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/comp_filt.html">comp_filt</a></span><span class="op">(</span><span class="va">bw</span><span class="op">$</span><span class="va">M</span>, fc <span class="op">=</span> <span class="va">fc</span><span class="op">)</span> </span>
<span><span class="va">Mhigh</span> <span class="op">&lt;-</span> <span class="va">Mf</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>    <span class="co"># high frequency M data</span></span>
<span><span class="va">Mh1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crop_to.html">crop_to</a></span><span class="op">(</span><span class="va">Mhigh</span>, sampling_rate <span class="op">=</span> <span class="va">sampling_rate</span>, tcues <span class="op">=</span> <span class="va">intvl1</span><span class="op">)</span></span>
<span><span class="va">Mh2</span> <span class="op">=</span> <span class="fu"><a href="../reference/crop_to.html">crop_to</a></span><span class="op">(</span><span class="va">Mhigh</span>, sampling_rate <span class="op">=</span> <span class="va">sampling_rate</span>, tcues <span class="op">=</span> <span class="va">intvl2</span><span class="op">)</span></span></code></pre></div>
<p>Make a new figure and plot these for comparison.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`Mh Interval 1` <span class="op">=</span> <span class="va">Mh1</span>, `Mh interval 2` <span class="op">=</span> <span class="va">Mh2</span><span class="op">)</span>, fsx <span class="op">=</span> <span class="va">sampling_rate</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#plott_Mh1Mh2">
Show/Hide Results
</button>
<div id="plott_Mh1Mh2" class="collapse">
<p><img src="magnetometer-filtering_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<p>How do the magnetometer signals compare to the same intervals in the
accelerometer (<code>Ah1</code> and <code>Ah2</code>)? Either hearken
back to <code>acceleration-filtering</code> or open the following:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Spoilers from acceleration-filtering. If you want to see how the accelerometer signals in these time intervals look, here's the code. </span></span>
<span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`Ah Interval 1` <span class="op">=</span> <span class="va">Ah1</span>, `Ah interval 2` <span class="op">=</span> <span class="va">Ah2</span><span class="op">)</span>, fsx <span class="op">=</span> <span class="va">sampling_rate</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#plott_Ah1Ah2">
Show/Hide Results
</button>
<div id="plott_Ah1Ah2" class="collapse">
<p><img src="magnetometer-filtering_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<p>Do you see a similar increase in magnitude in the magnetometer data
in interval 2 as you did with acceleration?</p>
<button class="btn btn-primary" data-toggle="collapse" data-target="#ans_similar_mag_increase_mag">
<em>Show/Hide Answers</em>
</button>
<div id="ans_similar_mag_increase_mag" class="collapse">
<p><em>Actually, no. In the case of acceleration, in first interval the
magnitude of the peaks is usually between</em> <span class="math inline">\(-1\)</span> <em>and</em> <span class="math inline">\(+1.5\)</span> <span class="math inline">\(m/s^2\)</span> <em>, whereas in the second
interval the magnitude of the peaks is between</em> <span class="math inline">\(-3\)</span> and <span class="math inline">\(+4\)</span> <span class="math inline">\(m/s^2\)</span><em>. By contrast, in the case of
the magnetometer data, the magnitude of the peaks is between </em><span class="math inline">\(-4\)</span> <em>and</em> <span class="math inline">\(+4\)</span> <span class="math inline">\(\mu
T\)</span><em>in both interval 1 and interval 2.</em></p>
</div>
<p>Remember that the magnetometer is sensitive to postural dynamics but
not specific acceleration. Can you conclude whether the difference
between the swimming styles is a result of larger amplitude swimming
strokes (i.e., a larger orientation dynamic due to body undulations) or
a larger specific acceleration, or a bit of both?</p>
<button class="btn btn-primary" data-toggle="collapse" data-target="#ans_why_swim_diff">
<em>Show/Hide Answers</em>
</button>
<div id="ans_why_swim_diff" class="collapse">
<p><em>The magnetometer is not reporting a difference, but the
accelerometer is. So the difference between swimming styles must be due
to a larger specific acceleration, not postural dynamics.</em></p>
</div>
</div>
<div class="section level2">
<h2 id="jerk-vs--dynamic-acceleration">Jerk vs. Dynamic Acceleration<a class="anchor" aria-label="anchor" href="#jerk-vs--dynamic-acceleration"></a>
</h2>
<p>As you may know, any high-pass filter will emphasize rapid changes in
acceleration.</p>
<p>Jerk is effectively a filter that emphasises higher frequencies
progressively more. You could also use a filter that is flat above a
cut-off frequency, like the complementary filter you used to make
<code>Ahigh</code>.</p>
<p>To get the magnitude of the three axes together like with
<code><a href="../reference/njerk.html">njerk()</a></code>, use <code><a href="../reference/norm2.html">norm2()</a></code>. This gives what is
sometimes called the <em>dynamic acceleration</em>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2.html">norm2</a></span><span class="op">(</span><span class="va">Ahigh</span><span class="op">)</span></span></code></pre></div>
<p>Plot <code>DA</code> and <code>J</code> to compare them:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`Dyn. Acc` <span class="op">=</span> <span class="va">DA</span>, Jerk <span class="op">=</span> <span class="va">J</span><span class="op">)</span>, fsx <span class="op">=</span> <span class="va">sampling_rate</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#plott_DAJ">
Show/Hide Results
</button>
<div id="plott_DAJ" class="collapse">
<p><img src="magnetometer-filtering_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
<p>Check out the obvious peaks around minute 20 to minute 30 to see how
clear they look in <code>DA</code> and <code>J</code>. Which signal
gives the lowest noise between the peaks, i.e., the best signal-to-noise
ratio? What does that suggest about the frequency content in the
acceleration transients? Give some thought to your answers–you’re so
close.</p>
<button class="btn btn-primary" data-toggle="collapse" data-target="#ans_freq_content_accel_transients">
<em>Show/Hide Answers</em>
</button>
<div id="ans_freq_content_accel_transients" class="collapse">
<p><em>Jerk gives a better signal-to-noise ratio than dynamic
acceleration. This suggests that the acceleration transients happen so
quickly, so it is important to have high-resolution data.</em>
<strong>Is this right?</strong></p>
</div>
</div>
<div class="section level2">
<h2 id="review">Review<a class="anchor" aria-label="anchor" href="#review"></a>
</h2>
<p>You’ve learned how to separate low- and high-frequency magnetometer
data with a complementary filter, and done some interpretation of these
two sets of data.</p>
<p>Fabulous work! You pranced all the way through this vignette.</p>
<p><em>If you’d like to continue working through these vignettes,
<code>fine-scale-tracking</code> is a fairly logical option. In it,
you’ll consider dead-reckoned paths as a way to visualize how an animal
might move, why this can lead to large errors, and how to correct for
some of those errors.</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">'fine-scale-tracking'</span><span class="op">)</span></span></code></pre></div>
<hr>
<p>Animaltags home pages: <a href="http://animaltags.org/" class="external-link uri">http://animaltags.org/</a> (old), <a href="https://animaltags.netlify.app/" class="external-link uri">https://animaltags.netlify.app/</a> (new), <a href="https://github.com/stacyderuiter/TagTools" class="external-link uri">https://github.com/stacyderuiter/TagTools</a> (for latest
beta source code), <a href="https://stacyderuiter.github.io/TagTools/articles/TagTools" class="external-link uri">https://stacyderuiter.github.io/TagTools/articles/TagTools</a>
(vignettes overview)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stacy DeRuiter, Mark Johnson, David Sweeney, Ye Joo McNamara-Oh, Samuel Fynewever, (Oghenkevwe) Racheal Tejevbo, Tiago Marques.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
