<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tagtools">
<title>Using dive_stats • tagtools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using dive_stats">
<meta property="og:description" content="tagtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tagtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/acceleration-filtering.html">Complementary filtering for acceleration: low- &amp; high-frequency</a>
    <a class="dropdown-item" href="../articles/data-quality-error-correction.html">Data quality &amp; error correction</a>
    <a class="dropdown-item" href="../articles/Detectors.html">Detectors</a>
    <a class="dropdown-item" href="../articles/dive-stats.html">Using dive_stats</a>
    <a class="dropdown-item" href="../articles/find-dives.html">Using find_dives</a>
    <a class="dropdown-item" href="../articles/fine-scale-tracking.html">Fine-scale tracking</a>
    <a class="dropdown-item" href="../articles/install-load-tagtools.html">Installing and loading tagtools</a>
    <a class="dropdown-item" href="../articles/jerk-transients.html">Jerk: a way to emphasize rapid changes in acceleration</a>
    <a class="dropdown-item" href="../articles/load-tag-data.html">Load tag data</a>
    <a class="dropdown-item" href="../articles/magnetometer-filtering.html">More complementary filtering: magnetometer &amp; dynamic acceleration</a>
    <a class="dropdown-item" href="../articles/mahalanobis-distance.html">Mahalanobis distance</a>
    <a class="dropdown-item" href="../articles/plots-and-cropping.html">Plots and cropping</a>
    <a class="dropdown-item" href="../articles/rotation-test.html">Rotation test</a>
    <a class="dropdown-item" href="../articles/tag-to-whale-frame.html">Tag orientation: From tag frame to sperm whale frame</a>
    <a class="dropdown-item" href="../articles/TagTools.html">Tagtools vignettes: overview and introduction</a>
    <a class="dropdown-item" href="../articles/vectors-vs-structures.html">Vectors and scalars versus structures</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/animaltags/tagtools_r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Using dive_stats</h1>
                        <h4 data-toc-skip class="author">tagtools
project team</h4>
            
            <h4 data-toc-skip class="date">2024-06-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/animaltags/tagtools_r/blob/HEAD/vignettes/articles/dive-stats.Rmd" class="external-link"><code>vignettes/articles/dive-stats.Rmd</code></a></small>
      <div class="d-none name"><code>dive-stats.Rmd</code></div>
    </div>

    
    
<p>Welcome to this vignette! On behalf of the team behind tagtools,
thanks for taking some time to get to know our package. We hope it
sparks joy.</p>
<p>In this vignette you will learn to use the function
<code>dive-stats</code> to compute summary statistics for a given
dataset containing dives, including adding an auxiliary variable.</p>
<p><em>Estimated time for this vignette: 25 minutes.</em></p>
<p>These practicals all assume that you have R/Rstudio, some basic
experience working with them, and can execute provided code, making some
user-specific changes along the way (e.g. to help R find a file you
downloaded). We will provide you with quite a few lines. To boost your
own learning, you would do well to try and write them before opening
what we give, using this just to check your work.</p>
<p>Additionally, be careful when copy-pasting special characters such as
_underscores_ and ‘quotes’. If you get an error, one thing to check is
that you have just a single, simple underscore, and
<code>'straight quotes'</code>, whether <code>'single'</code> or
<code>"double"</code> (rather than “smart quotes”).</p>
<div class="section level2">
<h2 id="finding-dives-and-summarising-them">Finding dives and summarising them<a class="anchor" aria-label="anchor" href="#finding-dives-and-summarising-them"></a>
</h2>
<p>Consider a dataset from a DTAG attached to a Cuvier’s beaked whale,
<em>Ziphius cavirostris</em>. Load the data from file zc11_267a.nc. If
you want to run this example, download the “zc11_267a.nc” file from <a href="https://github.com/animaltags/tagtools_data" class="external-link uri">https://github.com/animaltags/tagtools_data</a> and change
the file path to match where you’ve saved the files</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tagtools</span><span class="op">)</span></span>
<span><span class="va">ZC_file_path</span> <span class="op">&lt;-</span> <span class="st">"nc_files/zc11_267a.nc"</span></span>
<span><span class="va">ZC</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_nc.html">load_nc</a></span><span class="op">(</span><span class="va">ZC_file_path</span><span class="op">)</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Make a plot of the dive profile. What do you notice?</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span>X<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Depth<span class="op">=</span><span class="va">ZC</span><span class="op">$</span><span class="va">P</span><span class="op">)</span>, r <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#plott_zc">
Show/Hide Results/<em>Answers</em>
</button>
<div id="plott_zc" class="collapse">
<p><img src="dive-stats_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p><em>There are some very deep dives in this profile! This is perhaps
to be expected for Cuvier’s beaked whales, with their reputation for
mysteriously extreme excursions.</em></p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>You probably want to crop the data before further analysis, because
there is a period at the start of the recording when the tag was not yet
deployed on the whale.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ZPCr</span> <span class="op">=</span> <span class="fu"><a href="../reference/crop.html">crop</a></span><span class="op">(</span><span class="va">ZC</span><span class="op">$</span><span class="va">P</span><span class="op">)</span></span>
<span><span class="co"># if you want to review history/other fields</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ZPCr</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#crop_zc">
Show/Hide Results
</button>
<div id="crop_zc" class="collapse">
<pre><code><span><span class="co">#&gt; [1] "Results for `crop(ZC$P)`:"</span></span>
<span><span class="co">#&gt; [1] "---------------------------------------"</span></span></code></pre>
<p><img src="dive-stats_files/figure-html/unnamed-chunk-5-1.png" width="700"><img src="dive-stats_files/figure-html/unnamed-chunk-5-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; [1] "Position your cursor and then click once followed by clicking FINISH to change the start, or click twice in the same spot followed by clicking FINISH to change the end. If you wish to change both the start and end click once at the start time desired and twice at the end time desired."</span></span>
<span><span class="co">#&gt; [1] "Results for `str(ZPCr, max.level = 1)`:"</span></span>
<span><span class="co">#&gt; [1] "---------------------------------------"</span></span>
<span><span class="co">#&gt; List of 18</span></span>
<span><span class="co">#&gt;  $ data              : num [1:330359(1d)] 2.15 2.13 2.16 2.16 2.13 ...</span></span>
<span><span class="co">#&gt;  $ sampling          : chr "regular"</span></span>
<span><span class="co">#&gt;  $ sampling_rate     : num 5</span></span>
<span><span class="co">#&gt;  $ sampling_rate_unit: chr "Hz"</span></span>
<span><span class="co">#&gt;  $ depid             : chr "zc11_267a"</span></span>
<span><span class="co">#&gt;  $ creation_date     : chr "2017-08-08 04:55:39"</span></span>
<span><span class="co">#&gt;  $ history           : chr "sens_struct"</span></span>
<span><span class="co">#&gt;  $ type              : chr "P"</span></span>
<span><span class="co">#&gt;  $ full_name         : chr "Depth"</span></span>
<span><span class="co">#&gt;  $ description       : chr "dive depth"</span></span>
<span><span class="co">#&gt;  $ unit              : chr "m H2O"</span></span>
<span><span class="co">#&gt;  $ unit_name         : chr "meters H2O (salt)"</span></span>
<span><span class="co">#&gt;  $ unit_label        : chr "meters"</span></span>
<span><span class="co">#&gt;  $ start_offset      : num 0</span></span>
<span><span class="co">#&gt;  $ start_offset_units: chr "second"</span></span>
<span><span class="co">#&gt;  $ column_name       : chr ""</span></span>
<span><span class="co">#&gt;  $ frame             : chr ""</span></span>
<span><span class="co">#&gt;  $ axes              : chr "D"</span></span></code></pre>
</div>
<ol start="3" style="list-style-type: decimal">
<li>What minimum depth threshold do you think you would use to detect
dives this animal’s dives? Consider how you would justify your
choice.</li>
</ol>
<button class="btn btn-primary" data-toggle="collapse" data-target="#ans_depth_thresh">
<em>Show/Hide Answers</em>
</button>
<div id="ans_depth_thresh" class="collapse">
<p><em>No less than fifty meters seems like a reasonable choice to
detect this animal’s dives. After all, most of the dives this animal
performs are more than 100 meters in depth.</em></p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Use <code>find_dives</code> to detect all dives deeper than your
chosen minimum depth <code>mindepth</code>.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mindepth</span> <span class="op">&lt;-</span> <span class="co"># your chosen minimum depth here</span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_dives.html">find_dives</a></span><span class="op">(</span><span class="va">ZPCr</span>, mindepth<span class="op">=</span><span class="va">mindepth</span><span class="op">)</span> </span></code></pre></div>
<p>Going forward, the code will have assumed a minimum depth of <span class="math inline">\(50 m\)</span>.</p>
<ol start="5" style="list-style-type: decimal">
<li>Now use <code>dive_stats</code> to compute summary statistics for
all the dives you detected.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dive_stats.html">dive_stats</a></span><span class="op">(</span><span class="va">ZPCr</span>, dive_cues<span class="op">=</span><span class="va">dt</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'start'</span>, <span class="st">'end'</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ds</span><span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#str_ds">
Show/Hide Results
</button>
<div id="str_ds" class="collapse">
<pre><code><span><span class="co">#&gt; 'data.frame':    25 obs. of  12 variables:</span></span>
<span><span class="co">#&gt;  $ num      : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ max      : num  1737 356 395 391 438 ...</span></span>
<span><span class="co">#&gt;  $ st       : num  6728 10925 12624 14304 16177 ...</span></span>
<span><span class="co">#&gt;  $ et       : num  10806 12510 14230 16091 18027 ...</span></span>
<span><span class="co">#&gt;  $ dur      : num  4078 1585 1606 1787 1850 ...</span></span>
<span><span class="co">#&gt;  $ dest_st  : num  7698 11212 13093 14768 16636 ...</span></span>
<span><span class="co">#&gt;  $ dest_et  : num  8954 11802 13705 15391 17170 ...</span></span>
<span><span class="co">#&gt;  $ dest_dur : num  1255 590 612 623 534 ...</span></span>
<span><span class="co">#&gt;  $ to_dur   : num  970 287 469 465 459 ...</span></span>
<span><span class="co">#&gt;  $ from_dur : num  1852 709 525 700 857 ...</span></span>
<span><span class="co">#&gt;  $ to_rate  : num  1.521 1.055 0.715 0.714 0.809 ...</span></span>
<span><span class="co">#&gt;  $ from_rate: num  -0.797 -0.426 -0.638 -0.473 -0.434 ...</span></span></code></pre>
</div>
<ol start="6" style="list-style-type: decimal">
<li>Have a look at the dive stats and perhaps make a plot of some or all
of them. Do you notice anything interesting?</li>
</ol>
<div class="section level3">
<h3 id="optional-choose-an-extra-variable">Optional: choose an extra variable<a class="anchor" aria-label="anchor" href="#optional-choose-an-extra-variable"></a>
</h3>
<ol start="7" style="list-style-type: decimal">
<li>Choose an auxiliary variable (could be anything of interest - pitch,
roll, heading, MSA, ODBA, njerk…).</li>
</ol>
<p>Compute the auxiliary variable, and then recompute the dive stats
including the auxiliary variable.</p>
<p><em>One example auxiliary variable—pitch—is given below.</em></p>
<div class="section level4">
<h4 id="compute-pitch">Compute pitch<a class="anchor" aria-label="anchor" href="#compute-pitch"></a>
</h4>
<p>The function <code>a2pr</code> will calculate pitch and roll from
acceleration. To use the acceleration data, we’ll want it cropped to the
same time window as we’ve cropped the depth data.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ZACr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crop_to.html">crop_to</a></span><span class="op">(</span><span class="va">ZC</span><span class="op">$</span><span class="va">A</span>, tcues <span class="op">=</span> <span class="va">ZPCr</span><span class="op">$</span><span class="va">crop</span><span class="op">)</span></span>
<span><span class="co"># plot to confirm the cropping</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span>X<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>CroppedDepth<span class="op">=</span><span class="va">ZPCr</span>, CroppedAccel<span class="op">=</span><span class="va">ZACr</span><span class="op">)</span>, </span>
<span>      r<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="co"># and reverse the y-axis for depth, but not acceleration </span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#plott_ZPCr_ZACr">
Show/Hide Results
</button>
<div id="plott_ZPCr_ZACr" class="collapse">
<p><img src="dive-stats_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
<p>And now to compute pitch:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ZPiCr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/a2pr.html">a2pr</a></span><span class="op">(</span><span class="va">ZACr</span><span class="op">)</span><span class="op">$</span><span class="va">p</span> <span class="co"># this is the variable you'll want to use later</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="recompute-dive-stats">Recompute dive stats<a class="anchor" aria-label="anchor" href="#recompute-dive-stats"></a>
</h4>
<p>Use the auxiliary variable of your choice (if you were following the
example above, you’ll use ZPiCr) for my_aux_var.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dsAux</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dive_stats.html">dive_stats</a></span><span class="op">(</span>P <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">ZPCr</span><span class="op">$</span><span class="va">data</span><span class="op">)</span>, sampling_rate <span class="op">=</span> <span class="va">ZPCr</span><span class="op">$</span><span class="va">sampling_rate</span>, dive_cues<span class="op">=</span><span class="va">dt</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'start'</span>, <span class="st">'end'</span><span class="op">)</span>,<span class="op">]</span>, X<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">my_aux_var</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># if you are using ZPiCr</span></span>
<span><span class="va">dsAux</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dive_stats.html">dive_stats</a></span><span class="op">(</span>P <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">ZPCr</span><span class="op">$</span><span class="va">data</span><span class="op">)</span>, </span>
<span>                    dive_cues<span class="op">=</span><span class="va">dt</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'start'</span>, <span class="st">'end'</span><span class="op">)</span>,<span class="op">]</span>, </span>
<span>                    X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">ZPiCr</span><span class="op">)</span>, <span class="co"># to avoid nrow != ncol errors</span></span>
<span>                    angular <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># because this is pitch angle data</span></span>
<span>                    sampling_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span> <span class="co"># sampling rate is 5 for P &amp; X</span></span>
<span>                    <span class="op">)</span></span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>Examine and/or plot again.</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ds</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">dsAux</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </span>
<span><span class="fu"><a href="../reference/plott.html">plott</a></span><span class="op">(</span> <span class="co"># ... figure out what you want to plott; results not shown for this part</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#str_ds_dsAux">
Show/Hide Results
</button>
<div id="str_ds_dsAux" class="collapse">
<pre><code><span><span class="co">#&gt; [1] "Results for `str(ds, max.level = 1):`"</span></span>
<span><span class="co">#&gt; [1] "-----------------------------------------"</span></span>
<span><span class="co">#&gt; 'data.frame':    25 obs. of  12 variables:</span></span>
<span><span class="co">#&gt;  $ num      : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ max      : num  1737 356 395 391 438 ...</span></span>
<span><span class="co">#&gt;  $ st       : num  6728 10925 12624 14304 16177 ...</span></span>
<span><span class="co">#&gt;  $ et       : num  10806 12510 14230 16091 18027 ...</span></span>
<span><span class="co">#&gt;  $ dur      : num  4078 1585 1606 1787 1850 ...</span></span>
<span><span class="co">#&gt;  $ dest_st  : num  7698 11212 13093 14768 16636 ...</span></span>
<span><span class="co">#&gt;  $ dest_et  : num  8954 11802 13705 15391 17170 ...</span></span>
<span><span class="co">#&gt;  $ dest_dur : num  1255 590 612 623 534 ...</span></span>
<span><span class="co">#&gt;  $ to_dur   : num  970 287 469 465 459 ...</span></span>
<span><span class="co">#&gt;  $ from_dur : num  1852 709 525 700 857 ...</span></span>
<span><span class="co">#&gt;  $ to_rate  : num  1.521 1.055 0.715 0.714 0.809 ...</span></span>
<span><span class="co">#&gt;  $ from_rate: num  -0.797 -0.426 -0.638 -0.473 -0.434 ...</span></span>
<span><span class="co">#&gt; [1] "Results for `str(dsAux, max.level = 1):`"</span></span>
<span><span class="co">#&gt; [1] "-----------------------------------------"</span></span>
<span><span class="co">#&gt; 'data.frame':    25 obs. of  20 variables:</span></span>
<span><span class="co">#&gt;  $ num            : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ max            : num  1737 356 395 391 438 ...</span></span>
<span><span class="co">#&gt;  $ st             : num  6728 10925 12624 14304 16177 ...</span></span>
<span><span class="co">#&gt;  $ et             : num  10806 12510 14230 16091 18027 ...</span></span>
<span><span class="co">#&gt;  $ dur            : num  4078 1585 1606 1787 1850 ...</span></span>
<span><span class="co">#&gt;  $ dest_st        : num  7698 11212 13093 14768 16636 ...</span></span>
<span><span class="co">#&gt;  $ dest_et        : num  8954 11802 13705 15391 17170 ...</span></span>
<span><span class="co">#&gt;  $ dest_dur       : num  1255 590 612 623 534 ...</span></span>
<span><span class="co">#&gt;  $ to_dur         : num  970 287 469 465 459 ...</span></span>
<span><span class="co">#&gt;  $ from_dur       : num  1852 709 525 700 857 ...</span></span>
<span><span class="co">#&gt;  $ to_rate        : num  1.521 1.055 0.715 0.714 0.809 ...</span></span>
<span><span class="co">#&gt;  $ from_rate      : num  -0.797 -0.426 -0.638 -0.473 -0.434 ...</span></span>
<span><span class="co">#&gt;  $ mean_angle     : num  0.3 0.369 0.327 0.346 0.338 ...</span></span>
<span><span class="co">#&gt;  $ angle_var      : num  0.3087 0.0978 0.113 0.0972 0.0784 ...</span></span>
<span><span class="co">#&gt;  $ mean_to_angle  : num  -0.85 -0.356 -0.252 -0.201 -0.201 ...</span></span>
<span><span class="co">#&gt;  $ mean_dest_angle: num  0.209 0.348 0.345 0.378 0.337 ...</span></span>
<span><span class="co">#&gt;  $ mean_from_angle: num  0.832 0.635 0.782 0.673 0.606 ...</span></span>
<span><span class="co">#&gt;  $ to_angle_var   : num  0.0763 0.1025 0.0737 0.0446 0.0565 ...</span></span>
<span><span class="co">#&gt;  $ dest_angle_var : num  0.2638 0.0326 0.0264 0.0195 0.022 ...</span></span>
<span><span class="co">#&gt;  $ from_angle_var : num  0.0398 0.0245 0.0139 0.0581 0.0186 ...</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="review">Review<a class="anchor" aria-label="anchor" href="#review"></a>
</h2>
<p>You’ve learned a couple of ways to use <code>dive-stats</code>. Well
done!</p>
<p><em>If you’d like to continue working through these practicals,
consider <code>rotation-test</code> or <code>fine-scale-tracking</code>
.</em></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">'rotation-test'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">'fine-scale-tracking'</span><span class="op">)</span></span></code></pre></div>
<hr>
<p>Animaltags tag tools online: <a href="http://animaltags.org/" class="external-link uri">http://animaltags.org/</a>, <a href="https://github.com/animaltags/tagtools_r" class="external-link uri">https://github.com/animaltags/tagtools_r</a> (for latest
beta source code), <a href="https://animaltags.github.io/tagtools_r/index.html" class="external-link uri">https://animaltags.github.io/tagtools_r/index.html</a>
(vignettes overview)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stacy DeRuiter, Mark Johnson, David Sweeney, Ye Joo McNamara-Oh, Samuel Fynewever, (Oghenkevwe) Racheal Tejevbo, Tiago Marques, Yuqian Wang, (Oghenesuvwe) Su Ogedegbe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
