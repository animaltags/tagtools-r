<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tagtools">
<title>Vectors and scalars versus structures • tagtools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Vectors and scalars versus structures">
<meta property="og:description" content="tagtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tagtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Detectors.html">Detectors</a>
    <a class="dropdown-item" href="../articles/TagTools.html">Tagtools vignettes: overview and introduction</a>
    <a class="dropdown-item" href="../articles/acceleration-filtering.html">Complementary filtering for acceleration: low- &amp; high-frequency</a>
    <a class="dropdown-item" href="../articles/data-quality-error-correction.html">Data quality &amp; error correction</a>
    <a class="dropdown-item" href="../articles/dive-stats.html">Using dive_stats</a>
    <a class="dropdown-item" href="../articles/find-dives.html">Using find_dives</a>
    <a class="dropdown-item" href="../articles/fine-scale-tracking.html">Fine-scale tracking</a>
    <a class="dropdown-item" href="../articles/install-load-tagtools.html">Installing and loading tagtools</a>
    <a class="dropdown-item" href="../articles/jerk-transients.html">Jerk: a way to emphasize rapid changes in acceleration</a>
    <a class="dropdown-item" href="../articles/load-tag-data.html">Load tag data</a>
    <a class="dropdown-item" href="../articles/magnetometer-filtering.html">More complementary filtering: magnetometer &amp; dynamic acceleration</a>
    <a class="dropdown-item" href="../articles/mahalanobis-distance.html">Mahalanobis distance</a>
    <a class="dropdown-item" href="../articles/plots-and-cropping.html">Plots and cropping</a>
    <a class="dropdown-item" href="../articles/rotation-test.html">Rotation test</a>
    <a class="dropdown-item" href="../articles/tag-to-whale-frame.html">Tag orientation: From tag frame to sperm whale frame</a>
    <a class="dropdown-item" href="../articles/vectors-vs-structures.html">Vectors and scalars versus structures</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/animaltags/tagtools_r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Vectors and scalars versus structures</h1>
                        <h4 data-toc-skip class="author">tagtools
project team</h4>
            
            <h4 data-toc-skip class="date">2023-07-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/animaltags/tagtools_r/blob/HEAD/vignettes/articles/vectors-vs-structures.Rmd" class="external-link"><code>vignettes/articles/vectors-vs-structures.Rmd</code></a></small>
      <div class="d-none name"><code>vectors-vs-structures.Rmd</code></div>
    </div>

    
    
<p>Welcome to the <code>vectors-vs-structures</code> vignette! Thanks
for taking some time to get to know our package; we hope it is useful to
you. In this quick vignette, you will distinguish between vectors and
structures.</p>
<p><em>Estimated time for this practical: 15 minutes.</em></p>
<p>These vignettes assume that you have R/Rstudio installed on your
machine, some basic experience working with them, and can execute
provided code, making some user-specific changes along the way (e.g. to
help R find a file you downloaded). We will provide you with quite a few
lines. To boost your own learning, you would do well to try and write
them before opening what we give, using this just to check your
work.</p>
<div class="section level2">
<h2 id="setup-write-cats_test_raw-nc-and-load-it-as-a-large-list-mn">Setup: write “cats_test_raw.nc”, and load it as a large list,
<code>MN</code><a class="anchor" aria-label="anchor" href="#setup-write-cats_test_raw-nc-and-load-it-as-a-large-list-mn"></a>
</h2>
<p>For this vignette we will use the NetCDF file
<code>cats_test_raw.nc</code>. If you want to run this example, download
the “cats_test_raw.nc” file from <a href="https://github.com/animaltags/tagtools_data" class="external-link uri">https://github.com/animaltags/tagtools_data</a> and change
the file path to match where you’ve saved the files</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tagtools</span><span class="op">)</span></span>
<span><span class="va">cats_file_path</span> <span class="op">&lt;-</span> <span class="st">"nc_files/cats_test_raw.nc"</span></span>
<span><span class="va">MN</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_nc.html">load_nc</a></span><span class="op">(</span><span class="va">cats_file_path</span><span class="op">)</span></span></code></pre></div>
<p>This will write the file “cats_test_raw.nc”, and load it into your
current R session as a list object called <code>MN</code>. Looks good?
Good work! Confused? See the vignette <code>load-tag-data</code>.</p>
</div>
<div class="section level2">
<h2 id="sensor-data-structures-extracting-data-vectors">Sensor data structures &amp; extracting data vectors<a class="anchor" aria-label="anchor" href="#sensor-data-structures-extracting-data-vectors"></a>
</h2>
<p>Having caught up, we return to sensor data structures. Like
<code>$info</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MN</span><span class="op">$</span><span class="va">info</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#MN_info">
Show/Hide Results
</button>
<div id="MN_info" class="collapse">
<pre><code><span><span class="co">#&gt; $creation_date</span></span>
<span><span class="co">#&gt; [1] "2023-06-14 12:58:11.202458"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $depid</span></span>
<span><span class="co">#&gt; [1] "cats_test_raw"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data_source</span></span>
<span><span class="co">#&gt; [1] "20160730-091117-Froback-11-part.csv"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data_nfiles</span></span>
<span><span class="co">#&gt; [1] "1"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data_format</span></span>
<span><span class="co">#&gt; [1] "csv"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $device_make</span></span>
<span><span class="co">#&gt; [1] "CATS"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $device_type</span></span>
<span><span class="co">#&gt; [1] "Archival"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dephist_device_tzone</span></span>
<span><span class="co">#&gt; [1] "0"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dephist_device_regset</span></span>
<span><span class="co">#&gt; [1] "dd-mm-yyyy HH:MM:SS"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dephist_device_datetime_start</span></span>
<span><span class="co">#&gt; [1] "2016-07-27 16:29:38"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $sensors_list</span></span>
<span><span class="co">#&gt; [1] "3 axis Accelerometer,3 axis Magnetometer,3 axis Gyroscope,Temperature,Pressure,Light level,"</span></span></code></pre>
</div>
<p>these are structures that contain both the data and some information
about it. Typing any of the variable names followed by enter will show
what is in it. For example, try this for Acceleration:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">MN</span><span class="op">$</span><span class="va">A</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># display the STRucture of MN$A</span></span>
<span><span class="co">#&gt; List of 19</span></span>
<span><span class="co">#&gt;  $ data              : num [1:720000, 1:3] -2.42 -2.4 -2.35 -2.3 -2.2 ...</span></span>
<span><span class="co">#&gt;  $ sampling          : chr "regular"</span></span>
<span><span class="co">#&gt;  $ sampling_rate     : num 400</span></span>
<span><span class="co">#&gt;  $ sampling_rate_unit: chr "Hz"</span></span>
<span><span class="co">#&gt;  $ depid             : chr "cats_test_raw"</span></span>
<span><span class="co">#&gt;  $ creation_date     : chr "2023-06-14 12:58:08.013504"</span></span>
<span><span class="co">#&gt;  $ history           : chr "read_cats"</span></span>
<span><span class="co">#&gt;  $ type              : chr "A"</span></span>
<span><span class="co">#&gt;  $ full_name         : chr "Acceleration"</span></span>
<span><span class="co">#&gt;  $ description       : chr "triaxial acceleration"</span></span>
<span><span class="co">#&gt;  $ unit              : chr "m/s2"</span></span>
<span><span class="co">#&gt;  $ unit_name         : chr "metres per second squared"</span></span>
<span><span class="co">#&gt;  $ unit_label        : chr "m/s^2"</span></span>
<span><span class="co">#&gt;  $ start_offset      : num 0</span></span>
<span><span class="co">#&gt;  $ start_offset_units: chr "second"</span></span>
<span><span class="co">#&gt;  $ column_name       : chr "x,y,z"</span></span>
<span><span class="co">#&gt;  $ frame             : chr "tag"</span></span>
<span><span class="co">#&gt;  $ axes              : chr "FRU"</span></span>
<span><span class="co">#&gt;  $ files             : chr "20160730-091117-Froback-11-part.csv"</span></span></code></pre></div>
<p>In Matlab, Octave and R it will look a little different, but will
have all the same information. Specifically, we are after the variable
<code>A</code>, which is contained within the large list MN.
<code>MN$A</code> is how we access it, in R.</p>
<p>The results tell you that the acceleration data were sampled at a
nominal rate of 32 Hz (32 samples per second) and are in units of meters
per second squared. If you are more familiar with data vectors than with
structures, you can easily get the data out of the structure, and into
its own standalone object, using:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="va">MN</span><span class="op">$</span><span class="va">A</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="va">sampling_rate</span> <span class="op">&lt;-</span> <span class="va">MN</span><span class="op">$</span><span class="va">A</span><span class="op">$</span><span class="va">sampling_rate</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">A</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">sampling_rate</span></span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#data_out">
Show/Hide Results
</button>
<div id="data_out" class="collapse">
<pre><code><span><span class="co">#&gt; [1] "Results for str(A, max.level = 1):"</span></span>
<span><span class="co">#&gt; [1] "----------------------------------"</span></span>
<span><span class="co">#&gt;  num [1:720000, 1:3] -2.42 -2.4 -2.35 -2.3 -2.2 ...</span></span>
<span><span class="co">#&gt; [1] "----------------------------------"</span></span>
<span><span class="co">#&gt; [1] "Result for sampling_rate:"</span></span>
<span><span class="co">#&gt; [1] "----------------------------------"</span></span>
<span><span class="co">#&gt; [1] 400</span></span></code></pre>
</div>
<p>This makes a matrix A with the acceleration data and a scalar
<code>sampling_rate</code> with the sampling rate, which in this case is
32. You can also just keep everything stored in the list object, if you
like (in R there is not a clear reason to pull them out). If you do
this, you’d just have to keep typing <code>MN$A$data</code> and
<code>MN$A$sampling_rate</code> instead of <code>A</code> or
<code>sampling_rate</code>. If you move forward to
<code>plots-and-cropping</code>, you will still use the animaltag list
<code>MN</code>, pulling data directly from it.</p>
</div>
<div class="section level2">
<h2 id="review">Review<a class="anchor" aria-label="anchor" href="#review"></a>
</h2>
<p>You’ve learned to distinguish between vectors and structures, and go
from a structure to a vector (or scalar).</p>
<p>Nice work! You’re all set on <code>vectors-vs-structures</code>.</p>
<p><em>If you’d like to keep working through these practicals,
<code>plots-and-cropping</code> is a logical continuation. It’s
particularly nice to learn to use the plotter that comes with tagtools,
called <code>plott</code>.</em></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">'plots-and-cropping'</span>, package <span class="op">=</span> <span class="st">'tagtools'</span><span class="op">)</span></span></code></pre></div>
<p><em>Otherwise, you might consider jumping ahead to
<code>data-quality-error-correction</code>. In it, you’ll get started
with the work of fixing errors in data.</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">'data-quality-error-correction'</span>, package <span class="op">=</span> <span class="st">'tagtools'</span><span class="op">)</span></span></code></pre></div>
<hr>
<p>Animaltags home pages: <a href="http://animaltags.org/" class="external-link uri">http://animaltags.org/</a> (old), <a href="https://animaltags.netlify.app/" class="external-link uri">https://animaltags.netlify.app/</a> (new), <a href="https://github.com/stacyderuiter/TagTools" class="external-link uri">https://github.com/stacyderuiter/TagTools</a> (for latest
beta source code), <a href="https://stacyderuiter.github.io/TagTools/articles/TagTools" class="external-link uri">https://stacyderuiter.github.io/TagTools/articles/TagTools</a>
(vignettes overview)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stacy DeRuiter, Mark Johnson, David Sweeney, Ye Joo McNamara-Oh, Samuel Fynewever, (Oghenkevwe) Racheal Tejevbo, Tiago Marques, Yuqian Wang, (Oghenesuvwe) Su Ogedegbe.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
